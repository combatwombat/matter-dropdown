<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dropdown</title>

    <link rel="stylesheet" href="css/style.css">
</head>
<body class="debug"><!-- class="debug" for canvas overlay -->

    <h1>Hello World</h1>

    <ul class="menu">
        <li>
            <a href="#">About Us</a>
            <ul class="has-shadow"> <!-- needs has-shadow if it has a box-shadow (so it gets rotated correctly). shadow needs to be rgba(0,0,0,0.5) 0 10px 20px; for now. -->
                <li>
                    <a href="https://robsite.net">Robsite</a>
                </li>
                <li>
                    <a href="https://gerlach.dev">gerlach.dev</a>
                </li>
                <li>
                    <a href="https://example.com">Example</a>
                </li>
            </ul>
        </li>
        <li>
            <a href="#">Blep blop</a>
            <ul class="has-shadow">
                <li>
                    <a href="https://robsite.net/jhgsdf">Mepp</a>
                </li>
                <li>
                    <a href="https://robsite.net/sometssshingelese">Mopp</a>
                </li>
                <li>
                    <a href="https://robsite.net/anotsdfsdfher">Meep</a>
                </li>
                <li>
                    <a href="https://robsite.net/anotdsssher">Morp</a>
                </li>
                <li>
                    <a href="https://robsite.net/anotdsssher">Another One</a>
                </li>
            </ul>
        </li>
    </ul>

    <br><br><br><br><br><br><br><br><br><br>

    <p class="matter matter-static matter-static-animated has-shadow box box-1" >
        .matter = becomes physics object
        .matter-static = keeps its position<br>
        .matter-static-animated = DOM position gets synced to physics position
    </p>

    <p class="matter matter-static has-shadow box box-2">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam architecto at autem blanditiis delectus esse est in iusto mollitia odio officiis perspiciatis provident, saepe tempora ullam velit vitae voluptas voluptatem!
    </p>

    <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam architecto at autem blanditiis delectus esse est in iusto mollitia odio officiis perspiciatis provident, saepe tempora ullam velit vitae voluptas voluptatem!
    </p>

    <p class="box box-3">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam architecto at autem blanditiis delectus esse est in iusto mollitia odio officiis perspiciatis provident, saepe tempora ullam velit vitae voluptas voluptatem!
    </p>

    <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam architecto at autem blanditiis delectus esse est in iusto mollitia odio officiis perspiciatis provident, saepe tempora ullam velit vitae voluptas voluptatem!
    </p>

    <img src="image.jpg" class="matter matter-static has-shadow" style="margin-left: 500px; border-radius: 30px;" data-matter-init-delay="1000"> <!-- border-radius also gets applied to physics object -->

    <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam architecto at autem blanditiis delectus esse est in iusto mollitia odio officiis perspiciatis provident, saepe tempora ullam velit vitae voluptas voluptatem!
    </p>

    <p class="box box-4">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam architecto at autem blanditiis delectus esse est in iusto mollitia odio officiis perspiciatis provident, saepe tempora ullam velit vitae voluptas voluptatem!
    </p>

    <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam architecto at autem blanditiis delectus esse est in iusto mollitia odio officiis perspiciatis provident, saepe tempora ullam velit vitae voluptas voluptatem!
    </p>

    <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam architecto at autem blanditiis delectus esse est in iusto mollitia odio officiis perspiciatis provident, saepe tempora ullam velit vitae voluptas voluptatem!
    </p>

    <canvas id="matter-canvas"></canvas>
    <style>
        body {
            position: relative;
        }
        #matter-canvas {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            opacity: 0.5;
            z-index: 100000;
            pointer-events: none;
        }
        body.debug #matter-canvas {
            display: block;
        }
        .matter {
            z-index: 90000;
        }
    </style>

    <script src="../matter.js" type="text/javascript"></script>
    <script src="../matter-dropdown.js" type="text/javascript"></script>
    <script>
        window.addEventListener('load', function() {
            var dropdown = MatterDropdown({
                timeToInteraction: 3000,
                mouseBounceForce: {x: 0, y: -0.5}
            });
            dropdown.init();

            var menuItems = document.querySelectorAll('.menu > li > a');
            menuItems.forEach(function(el) {
                el.addEventListener('click', function(ev) {
                    ev.preventDefault();
                    var submenu = ev.currentTarget.parentElement.querySelector('ul');
                    submenu.classList.add('visible');
                    setTimeout(function() {
                        dropdown.addElement(submenu);
                    }, 1000);
                })
            })
        });
    </script>
</body>
</html>